<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id$ -->
<!DOCTYPE page-specification PUBLIC 
  "-//Apache Software Foundation//Tapestry Specification 1.4//EN" 
  "http://jakarta.apache.org/tapestry/dtd/Tapestry_1_4.dtd">
	
<page-specification class="org.apache.tapestry.vlib.pages.Matches">

  <component id="border" type="Border">
    <static-binding name="title">Matching Books</static-binding>
  </component>
  
  <component id="insertMatchCount" type="Insert">
    <binding name="value" expression="components.browser.resultCount"/>
  </component>
  
  <component id="browser" type="Browser">
  	<binding name="query" expression="bookQuery"/>
  </component>
  
  <component id="e" type="Foreach">
    <binding name="source" expression="components.browser.pageResults"/>
    <binding name="value" expression="currentMatch"/>
    <static-binding name="element">tr</static-binding>
  </component>
  
  <component id="bookLink" type="BookLink">
    <binding name="book" expression="currentMatch"/>
  </component>
  
  <component id="insertAuthor" type="Insert">
    <binding name="value" expression="currentMatch.author"/>
  </component>
  
  <component id="insertPublisherName" type="Insert">
    <binding name="value" expression="currentMatch.publisherName"/>
  </component>
  
  <component id="ownerLink" type="PersonLink">
    <binding name="primaryKey" expression="currentMatch.ownerPrimaryKey"/>
    <binding name="name" expression="currentMatch.ownerName"/>
    <static-binding name="class">clsDataBlue</static-binding>
  </component>
  
  <component id="holderLink" type="PersonLink">
    <binding name="primaryKey" expression="currentMatch.holderPrimaryKey"/>
    <binding name="name" expression="currentMatch.holderName"/>
    <binding name="omit" expression="omitHolderLink"/>
    <static-binding name="class">clsDataBlue</static-binding>
  </component>
  
  <component id="borrow" type="Borrow">
    <binding name="book" expression="currentMatch"/>
  </component>

</page-specification>

<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id$ -->
<!DOCTYPE page-specification PUBLIC 
  "-//Apache Software Foundation//Tapestry Specification 1.4//EN" 
  "http://jakarta.apache.org/tapestry/dtd/Tapestry_1_4.dtd">

<page-specification class="net.sf.tapestry.vlib.pages.admin.TransferBooks">

  <property name="page-type">admin</property>
  
  <component id="border" type="Border">
    <static-binding name="title">Transfer Books</static-binding>  
    <binding name="simpleTitle" expression="true"/>
  </component>
  
  <component id="showMessage" type="ShowMessage"/>
  <component id="showError" type="ShowError"/>
  
  <component id="selectForm" type="Form">
    <binding name="listener" expression="listeners.processSelectForm"/>  
  </component>
  
  <component id="selectFrom" type="PropertySelection">
    <binding name="model" expression="engine.personModel"/>
    <binding name="value" expression="fromUserPK"/>
  </component>
  
  <component id="selectTo" type="PropertySelection">
    <binding name="model" expression="engine.personModel"/>
    <binding name="value" expression="toUserPK"/>
  </component>
  
  <component id="ifSelectionsOk" type="Conditional">
    <binding name="condition" expression="selectionsOk"/>
  </component>
  
  <component id="xferForm" type="Form">
    <binding name="listener" expression="listeners.processXferForm"/>
  </component>
  
  <component id="selectBooks" type="contrib:Palette">
    <binding name="selected" expression="selectedBooks"/>
    <binding name="model" expression="userBookModel"/>
    <binding name="sort" expression="@net.sf.tapestry.contrib.palette.SortMode@LABEL"/>
    <binding name="selectImage" expression="assets.Select"/>
    <binding name="selectDisabledImage" expression="assets.SelectOff"/>
    <binding name="deselectImage" expression="assets.Deselect"/>
    <binding name="deselectDisabledImage" expression="assets.DeselectOff"/>
    <binding name="selectedTitleBlock" expression="components.selectedTitleBlock"/>
    <binding name="availableTitleBlock" expression="components.availableTitleBlock"/>
  </component>

  <component id="availableTitleBlock" type="Block"/>
  
  <component id="insertFromName" type="Insert">
  	<binding name="value" expression="fromUser.naturalName"/>
  </component>
  
  
  <component id="selectedTitleBlock" type="Block"/>

  <component id="insertToName" type="Insert">
    <binding name="value" expression="toUser.naturalName"/>
  </component>
  	  
  <context-asset name="Select" path="/images/select_right_bl.gif"/>
  <context-asset name="SelectOff" path="/images/select_right_bl_off.gif"/>
  <context-asset name="Deselect" path="/images/deselect_left_bl.gif"/>
  <context-asset name="DeselectOff" path="/images/deselect_left_bl_off.gif"/>
  
</page-specification>


<?xml version="1.0"?>

<!DOCTYPE weblogic-ejb-jar PUBLIC '-//BEA Systems, Inc.//DTD WebLogic 5.1.0 EJB//EN' 'http://www.bea.com/servers/wls510/dtd/weblogic-ejb-jar.dtd'>

<weblogic-ejb-jar>
    <weblogic-enterprise-bean>
      <ejb-name>KeyAllocator</ejb-name>
      <clustering-descriptor>
	<stateless-bean-methods-are-idempotent>true</stateless-bean-methods-are-idempotent>
      </clustering-descriptor>
      <reference-descriptor>
	<resource-description>
	  <res-ref-name>jdbc/dataSource</res-ref-name>
	  <jndi-name>com.primix.vlib.DataSource</jndi-name>
	</resource-description>
      </reference-descriptor>
      <jndi-name>com.primix.vlib.KeyAllocator</jndi-name>
    </weblogic-enterprise-bean>
    <weblogic-enterprise-bean>
      <ejb-name>Person</ejb-name>
      <persistence-descriptor>
	<is-modified-method-name>isDirty</is-modified-method-name>
	<finders-call-ejbload>true</finders-call-ejbload>
	<persistence-type>
	  <type-identifier>WebLogic_CMP_RDBMS</type-identifier>
	  <type-version>5.1.0</type-version>
	  <type-storage>META-INF/Person-weblogic-cmp.xml</type-storage>
	</persistence-type>
	<persistence-use>
	  <type-identifier>WebLogic_CMP_RDBMS</type-identifier>
	  <type-version>5.1.0</type-version>
	</persistence-use>
      </persistence-descriptor>
      <reference-descriptor>
	<ejb-reference-description>
	  <ejb-ref-name>ejb/KeyAllocator</ejb-ref-name>
	  <jndi-name>com.primix.vlib.KeyAllocator</jndi-name>
	</ejb-reference-description>
	<ejb-reference-description>
	  <ejb-ref-name>ejb/Book</ejb-ref-name>
	  <jndi-name>com.primix.vlib.Book</jndi-name>
	</ejb-reference-description>
      </reference-descriptor>
      <jndi-name>com.primix.vlib.Person</jndi-name>
    </weblogic-enterprise-bean>
    <weblogic-enterprise-bean>
      <ejb-name>Book</ejb-name>
      <persistence-descriptor>
	<is-modified-method-name>isDirty</is-modified-method-name>
	<finders-call-ejbload>true</finders-call-ejbload>
	<persistence-type>
	  <type-identifier>WebLogic_CMP_RDBMS</type-identifier>
	  <type-version>5.1.0</type-version>
	  <type-storage>META-INF/Book-weblogic-cmp.xml</type-storage>
	</persistence-type>
	<persistence-use>
	  <type-identifier>WebLogic_CMP_RDBMS</type-identifier>
	  <type-version>5.1.0</type-version>
	</persistence-use>
      </persistence-descriptor>
      <reference-descriptor>
	<ejb-reference-description>
	  <ejb-ref-name>ejb/KeyAllocator</ejb-ref-name>
	  <jndi-name>com.primix.vlib.KeyAllocator</jndi-name>
	</ejb-reference-description>
	<ejb-reference-description>
	  <ejb-ref-name>ejb/Person</ejb-ref-name>
	  <jndi-name>com.primix.vlib.Person</jndi-name>
	</ejb-reference-description>
	<ejb-reference-description>
	  <ejb-ref-name>ejb/Publisher</ejb-ref-name>
	  <jndi-name>com.primix.vlib.Publisher</jndi-name>
	</ejb-reference-description>
      </reference-descriptor>
      <jndi-name>com.primix.vlib.Book</jndi-name>
    </weblogic-enterprise-bean>
    <weblogic-enterprise-bean>
      <ejb-name>Publisher</ejb-name>
      <persistence-descriptor>
	<is-modified-method-name>isDirty</is-modified-method-name>
	<finders-call-ejbload>true</finders-call-ejbload>
	<persistence-type>
	  <type-identifier>WebLogic_CMP_RDBMS</type-identifier>
	  <type-version>5.1.0</type-version>
	  <type-storage>META-INF/Publisher-weblogic-cmp.xml</type-storage>
	</persistence-type>
	<persistence-use>
	  <type-identifier>WebLogic_CMP_RDBMS</type-identifier>
	  <type-version>5.1.0</type-version>
	</persistence-use>
      </persistence-descriptor>
      <reference-descriptor>
	<ejb-reference-description>
	  <ejb-ref-name>ejb/KeyAllocator</ejb-ref-name>
	  <jndi-name>com.primix.vlib.KeyAllocator</jndi-name>
	</ejb-reference-description>
	<ejb-reference-description>
	  <ejb-ref-name>ejb/Book</ejb-ref-name>
	  <jndi-name>com.primix.vlib.Book</jndi-name>
	</ejb-reference-description>
      </reference-descriptor>
      <jndi-name>com.primix.vlib.Publisher</jndi-name>
    </weblogic-enterprise-bean>
  </weblogic-ejb-jar>

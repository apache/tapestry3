<?xml version="1.0" encoding="UTF-8"?>

<!-- $Id$ -->


<!-- Fill in some code-coverage gaps in the page service. -->

<mock-test>
    <context name="mock"/>

  	<servlet name="app" class="net.sf.tapestry.ApplicationServlet">
  		<init-parameter
  			name="net.sf.tapestry.application-specification"
  			value="/net/sf/tapestry/junit/mock/simple/Simple.application"/>
  	</servlet>
    
    <!-- Handle unknown page -->
    
    <request>
    	<parameter name="service" value="page"/>
    	<parameter name="context" value="Qbert"/>
    	
	  	<assert-output name="Page Title">
<![CDATA[
<title>Exception</title>
]]>
		</assert-output>
				
		<assert-output>
Page 'Qbert' not found in application namespace.
		</assert-output>
	
	</request>
	
	<request>
		<parameter name="service" value="page"/>
		
	  	<assert-output name="Page Title">
<![CDATA[
<title>Exception</title>
]]>
		</assert-output>
		
<!-- Note: this doesn't seem like the correct message in this situation. -->
			
		<assert-output>
Service page requires exactly one service parameter.
		</assert-output>
	</request>		
		
</mock-test>
    	

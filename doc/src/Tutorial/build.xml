<?xml version="1.0"?>

<!DOCTYPE project [
    <!ENTITY docbook-setup SYSTEM "file:../common/docbook-setup.xml">
]>

<project name="Tutorial Documentation" default="install">

<property name="html.output.dir" value="html"/>

<property name="html.install.dir" value="../../Tutorial"/>

<property file="../../../config/build.properties"/>

&docbook-setup;

  <target name="setup">
    <mkdir dir="${html.output.dir}"/>
  </target>

  <target name="clean">
    <delete dir="${html.output.dir}"/>
  </target>
    
  <target name="html" depends="setup,docbook-setup" description="Build HTML version of documentation.">
    <copy todir="${html.output.dir}/images" >
      <fileset dir="images"/>
    </copy>
    <copy todir="${html.output.dir}/standard-images">
      <fileset dir="${docbook.xsl.dir}/images">
        <include name="**/*.png"/>
      </fileset>
    </copy>
    <style destdir="${html.output.dir}"
    	style="../common/Tapestry-Chunked.xsl"
    	processor="trax" 
    	includes="Tutorial.xml">
    	<param name="root.filename" expression="Tutorial"/>
    </style>
    <style destdir="${html.output.dir}"
    	style="../common/Tapestry-Single.xsl"
    	processor="trax" 
    	in="Tutorial.xml"
    	out="html/Tutorial-Printable.html"/>
  </target>
    
  <target name="install" depends="html" description="Build and install HTML documentation.">
  	<copy todir="${html.install.dir}">
  	  <fileset dir="${html.output.dir}"/>
  	</copy>
  </target>

</project>



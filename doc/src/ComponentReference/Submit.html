<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- $Id$ --> 
<html>
<head>
<title>Submit</title>
<link rel="stylesheet" type="text/css" href="Tapestry.css" title="style">
</head>
<body>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
 <tr>
  <td align="left"><A href="Shell.html"><IMG alt=Shell src="common-images/prev.png"></A></td>  
  <td align="middle"><A href="index.html"><IMG alt="Component Index" src="common-images/home.png" ></A></td>  
  <td align="right"><A href="TextArea.html"><IMG alt=TextArea src="common-images/next.png"></A></td>  
 <tr>
 <tr>
  <td colspan="3"><hr></td>  
 </tr>
 <tr>
  <td colspan="3">
   <table border="0" cellpadding="4" cellspacing="4" width="100%">
        <TBODY>

<tr valign="top">
 <td>
  <table>
	 <tr>
	  <td><font size="+2"><b>Submit</b></font></td>
	 </tr>
	 <tr>
	  <td>
		 <A href="../api/net/sf/tapestry/form/Submit.html">
		 net.sf.tapestry.form.Submit</A>
		</td>
	 </tr>
  </table>
 </td>
 <td>
  <table align="right" valign="middle" bgcolor="#c0c0c0" cellspacing="8">
	 <tr>
	  <td><input type="submit" value="Submit"></td>
	 </tr>
  </table>
 </td>

 </td>
</tr>

<tr valign="center">
 <td colspan="2">&nbsp;</td>
</tr>

<tr>
 <td colspan="2">
  <b>Description</b>
	<br>
  Provides a HTML form submission element &lt;input type="submit"&gt;. 
	The Submit component must be wrapped by a <A href="Form.html">Form</A>.  
  <p>
  This component is generally only used when the form has multiple submit 
  buttons, and it is important for the application to know which one was 
  pressed. You may also want to use 
  <A href="ImageSubmit.html">ImageSubmit</A> which accomplishes 
            much the same thing, but uses a graphic image instead. 
            <P>In typical use, the application needs to know which Submit was 
            the one clicked by the user. This can be accomplished in two ways: 
            <UL>
              <LI>Use the <B>selected</B> and <B>tag</B> parameters to identify 
              the button. 
              <LI>Use the <B>listener</B> to perform an operation directly 
            </LI></UL>
            <P>If a listener is used, it will be invoked as the Submit component 
            is rewound. In addition, the <A href="Form.html">Form</A>'s listener 
            will always be invoked. 
            <P>Use the first method if you need to be sure that the entire form 
            has rewound before any logic specific to the ImageSubmit is 
            triggered. </P>
             
 </td>
</tr>

<tr>
 <td colspan="2">
  <b>See Also</b>
	<br>
	<A href="Form.html">Form</A>, 
	<A href="Checkbox.html">Checkbox</A>, 
	<A href="Hidden.html">Hidden</A>, 
	<A href="ImageSubmit.html">ImageSubmit</A>, 
	<A href="ListEdit.html">ListEdit</A>, 
	<A href="Option.html">Option</A>, 
	<A href="Radio.html">Radio</A>, 
	<A href="RadioGroup.html">RadioGroup</A>, 
	<A href="Select.html">Select</A>, 
	<a href="TextArea.html">TextArea</a>, 
	<A href="TextField.html">TextField</A>, 
	<A href="ValidField.html">ValidField</A>
 </td>
</tr>

<tr>
 <td colspan="2">
  <b>Parameters</b>
  <br>
  <table border="1" cellpadding="4" cellspacing="4" class="parameters">
   <tr> 
    <th>Name</th>
    <th>Type</th>
    <th>Direction</th>
    <th>Required</th> 
    <th>Default</th>
    <th>Description</th>
   </tr>
   <tr>
		<td>label</td>
		<td>String</td>
		<td>in</td>
		<td>no</td>
		<td>&nbsp;</td>
		<td>The label put on the button (this becomes the HTML value attribute).
		</td>
	 </tr>
   <tr>
	  <td>disabled</ID>
	  <td>boolean</td>
    <td>in</td>
    <td>no</td>
	  <td>false</td>
    <td>
    If set to true, the button will be disabled (will not respond to
    the mouse); the browser should provide a "greyed out" appearance.
    </td> 
   </tr>
   <tr>
    <td>selected</td>
    <td>Object</td>
    <td>out</td>
    <td>no</td>
    <td>&nbsp;</td>
    <td>
    This parameter is bound to a property that is updated when the submit 
    button is clicked by the user. The property is updated to match the tag 
    parameter.
    </td>
   </tr>
   <tr>
    <td>tag</td>
    <td>Object</td>
    <td>in</td>
    <td>no</td>
    <td>&nbsp;</td>
    <td>
    Tag used with the selected parameter to indicate which Submit button
    on a form was clicked.
    </td>
   </tr>
   <tr>
 		<td>listener</td>
 		<td>
     <A href="../api/net/sf/tapestry/IActionListener.html"><tt>IActionListener</tt></A>
    </td>
 		<td>in</td>
 		<td>no</td>
 		<td>&nbsp;</td>
 		<td>
    If specified, the listener is notified.  This notification occurs as the 
    component is rewinded, i.e., prior to the <A href="Form.html">Form</A>'s 
    listener. In addition, the selected property (if bound) will be updated 
    <u>before</u> the listener is notified.
 		</td>
   </tr>
	</table><BR>Body: 
            <STRONG>removed</STRONG><BR>Informal parameters: 
            <STRONG>allowed</STRONG>
    <br>
  Reserved parameters: "name", "type"  
 </td>
</tr>

<tr>
 <td colspan="2">
  <b>Examples</b>
  <p>
  The following example shows a standard, simple submit button. This example 
  shows both a form, and a single <A href="Submit.html">Submit</A> component.
  The component is setup to call a method on the page implementation when it is 
  clicked.
  <p>
  Keep in mind that it is of course possible to bind the label name to a dynamic 
  property (e.g: the page, or some property of the visit object). This is not 
  done here, purely for simplicity.
 <p>

<table valign="middle" bgcolor="#c0c0c0" cellspacing="8">
 <tr>
	<td><input type="submit" value="Submit"></td>
 </tr>
</table>

<pre>
&lt;form jwcid="form"&gt;
 &lt;input type="submit" jwcid="<span class="jwcid">simpleSubmit</span>" value="Submit"/&gt;
&lt;/form&gt;


&lt;component id="form" type="<A href="Form.html">Form</A>"&gt;
    &lt;binding name="listener" expression="listeners.formSubmit"/&gt;
&lt;/component&gt;
    
&lt;component id="<span class="jwcid">simpleSubmit</span>" type="<A href="Submit.html">Submit</A>"&gt;
    &lt;binding name="listener" expression="listeners.submitButtonClick"/&gt;
&lt;/component&gt;


public class Submit extends BasePage {
    public void formSubmit(IRequestCycle requestCycle) {
        System.out.println("The form was submitted");
    }

    public void submitButtonClick(IRequestCycle requestCycle) {
        System.out.println("The submit button was clicked");
    }
}
</pre>
<td></td>

<tr>
 <td colspan="2"><hr></td>
</tr>

<tr>
 <td colspan="2">
 The following example shows how you can setup a form that allows you to 
 experiment with a Submit button. It simply excercises some standard properties
 of the component. If you have the container (J2EE/Servlet) showing then you
 will be able to see some simple logging when you click the submit buttons,
 showing you that the right handler is being called at the right time.
 <p>
 
<table valign="middle" bgcolor="#c0c0c0" cellspacing="8">
 <tr>
	<td>
	<form method="post" name="Form0" action="/componentref">
   <input type="hidden" name="service" value="direct">
   <input type="hidden" name="context" value="ComplexSubmit/form">
   <input type="hidden" name="sp" value="S0">
	 <table border=0>
    <tr>
 	   <td>Button Name</td>
     <td><input name="buttonName" size="35" value="Submit" 
                       ></td>
	  </tr>
	  <tr>
     <td>Disabled?</td>
     <td><input type="checkbox" name="buttonDisabled" checked></td>
	  </tr>
    <tr>
     <td>Dynamic Submit Button</td>
     <td><input type="submit" name="complexsubmit" disabled value="Submit"></td>
    </tr>
    <tr>
     <td>&nbsp;</td>
     <td><input type="submit" value="Make Changes!"></td>
	  </tr>
   </table>
  </form>
 </td>
</tr>
</table>

<pre>
&lt;form jwcid="form"&gt;
 &lt;table border="0"&gt;
  &lt;tr&gt;
   &lt;td&gt;Button Name&lt;/td&gt;
   &lt;td&gt;&lt;input jwcid="buttonName"/&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td&gt;Disabled?&lt;/td&gt;
   &lt;td&gt;&lt;input jwcid="buttonDisabled"/&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td&gt;Dynamic Submit Button&lt;/td&gt;
   &lt;td&gt;&lt;input jwcid="<span class="jwcid">complexSubmit</span>"/&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td&gt;&amp;nbsp;&lt;/td&gt;
   &lt;td&gt;&lt;input type="submit" value="Make Changes!"/&gt;&lt;/td&gt;
  &lt;/tr&gt;
 &lt;/table&gt;
&lt;/form&gt;	

  
&lt;bean name="validationDelegate" class="net.sf.tapestry.valid.ValidationDelegate" lifecycle="request"/&gt;
    
&lt;component id="form" type="<A href="Form.html">Form</A>"&gt;
    &lt;binding name="delegate" expression="beans.validationDelegate"/&gt;
    &lt;binding name="listener" expression="listeners.formSubmit"/&gt;
&lt;/component&gt;

&lt;component id="<span class="jwcid">complexSubmit</span>" type="<A href="Submit.html">Submit</A>"&gt;
    &lt;binding name="value" expression="buttonName"/&gt;
    &lt;binding name="disabled" expression="buttonDisabled"/&gt;
    &lt;binding name="listener" expression="listeners.complexFormSubmit"/&gt;
&lt;/component&gt;
    
&lt;component id="buttonName" type="<A href="TextField.html">TextField</A>"&gt;
    &lt;binding name="value" expression="buttonName"/&gt;
    &lt;static-binding name="displayWidth"&gt;35&lt;/static-binding&gt;
&lt;/component&gt;
	
&lt;component id="buttonDisabled" type="<A href="Checkbox.html">Checkbox</A>"&gt;
    &lt;binding name="selected" expression="buttonDisabled"/&gt;
&lt;/component&gt;


public class ComplexSubmit extends BasePage {
    private static String BUTTON_NAME = "Submit";
    private String buttonName = BUTTON_NAME;
    boolean buttonDisabled = true;

    public void detach() {
        buttonName = BUTTON_NAME;
        buttonDisabled = true;
        super.detach();
    }

    public void formSubmit(IRequestCycle requestCycle) {
        System.out.println("Standard form submit was called");
    }

    public void complexFormSubmit(IRequestCycle requestCycle) {
        System.out.println("Complex form submit was called");
    }

    public String getButtonName() { return buttonName; }

	  public void setButtonName(String value) {
        buttonName = value;
        fireObservedChange("buttonName", value);
    }

    public boolean getButtonDisabled() { return buttonDisabled; }

    public void setButtonDisabled(boolean value) {
        buttonDisabled = value;
        fireObservedChange("buttonDisabled", value);
    }
}
</pre>

 </td></tr></table></TD></TR>
<tr>
 <td colspan="3"><hr></td>  
</tr>
<tr>
 <td align="left"><A href="Shell.html"><IMG alt=Shell src="common-images/prev.png"></A></td>  
 <td align="middle"><A href="index.html"><IMG alt="Component Index" src="common-images/home.png" ></A></td>  
 <td align="right"><A href="TextArea.html"><IMG alt=TextArea src="common-images/next.png"></A></td>  
</tr></TBODY></TABLE>

</body>
</html>
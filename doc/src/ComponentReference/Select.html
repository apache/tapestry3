<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- $Id$ --> 
<html>
<head>
<title>Select</title>
<link rel="stylesheet" type="text/css" href="Tapestry.css" title="style">
</head>

<body>
<table border="0" cellpadding="4" cellspacing="4" width="100%">
<tr>
 <td>
  <table>
	 <tr>
	  <td><font size="+2"><b>Select</b></font></td>
	 </tr>
	 <tr>
	  <td>
		 <a href="../api/net/sf/tapestry/form/Select.html">net.sf.tapestry.form.Select</a>
		</td>
	 </tr>
  </table>
 </td>
 <td>
  <table align="right" valign="middle" bgcolor="#c0c0c0" cellpadding="8">
	 <tr>
	  <td>Multiple Select:</td>
	  <td>
		 <select multiple="true" size="3">
		  <option>Apple</option>
		  <option>Orange</option>
		  <option>Banana</option>
		  <option>Pear</option>
		  <option>Lemon</option>
		  <option>Kiwi Fruit</option>
		  <option>Grape Fruit</option>
		 </select>
	  </td>
	 </tr>
  </table>
 </td>
</tr>

<tr>
 <td colspan="2"><hr></td>
</tr>

<tr>
 <td colspan="2">
  <b>Description</b>
	<br>
  Implements a component that manages an HTML &lt;select&gt; form element. The
  Select component can take the form of a drop down list (default) or a list 
  selection box if the "multiple" parameter is set to true. The Select component
  must wrap around <a href="Option.html">Option</a> components within a 
  <a href="Form.html">Form</a>.
  <p>
  Unless multiple selections are required it is generally easier to use the 
  <a href="PropertySelection.html">PropertySelection</a> component.  
  <p>
  This component may wrap around other components and static HTML.
 </td>
</tr>

<tr>
 <td colspan="2">
  <b>See Also</b>
	<br>
	<a href="Form.html">Form</a>, 
  <a href="Option.html">Option</a>, 
  <a href="RadioGroup.html">RadioGroup</a>,
  <a href="Radio.html">Radio</a>,
  <a href="PropertySelection.html">PropertySelection</a>
 </td>
</tr>

<tr>
 <td colspan="2">
  <b>Parameters</b>
	<br>
  <table border="1" cellpadding="4" cellspacing="4" class="parameters">
  <tr> 
    <th>Name</th>
    <th>Type</th>
	  <th>Direction</th>
    <th>Required</th> 
    <th>Default</th>
    <th>Description</th>
  </tr>

  <tr>
		<td>multiple</td>
		<td>boolean</td>
		<td>in</td>
		<td>no</td>
		<td>false</td>
		<td>If true, the component allows multiple selection.</td> </tr>

  <tr>
 		<td>disabled</td>
		<td>boolean</td>
		<td>in</td>
		<td>no</td>
		<td>false</td>
		<td>Controls whether the select is active or not.

			<p>Corresponds to the <code>disabled</code> HTML attribute.</td>
	</tr>

	</table>
  Informal parameters: allowed<br>
  Reserved parameters: "name"
 </td>
</tr>

<tr>
 <td colspan="2">
  <b>Examples</b>
	<p>
	This examples shows how to setup a standard Select and <a href="Option.html">Option</a> component.
	Note that Select and <a href="Option.html">Option</a> are typically only used like this when a 
	<a href="PropertySelection.html">PropertySelection</a>
	component is unable to fulfil the required need. Normally, most users will want to use
	the <a href="PropertySelection.html">PropertySelection</a>, since it requires less work, and can express similar semantics 
	with only a single component (instead of three, as will be shown below).
	<p>
	<table border=0 valign="middle" bgcolor="#c0c0c0" cellpadding="8">
	<tr><td>
		<form method="post" name="Form0" action="/componentref">
		<input type="hidden" name="service" value="direct">
		<input type="hidden" name="context" value="Selection/form">
		<input type="hidden" name="sp" value="S0">
			Select a colour:
		<select name="selection" multiple>
		
		<option value="0">Green
		
		
		<option value="1">Blue
		
		
		<option value="2">Red
		
		
		<option value="3">White
		
		
		<option value="4">Purple
		
		
		<option value="5">Dark Black
		
		
		<option value="6">Fiji Blue
		
		
		</select>
		<input type="hidden" name="Form0" value="1">
		</form>
		</td></tr>
	</table>
 </td>
</tr>
</tr>

<tr>
 <td colspan="2"><hr></td>  
</tr>

<tr>
 <td colspan="2">
 The HTML template for this example follows. It shows a single Selection 
 component, which contains both a <a href="Foreach.html">Foreach</a> and an <a href="Option.html">Option</a> component.<p>
 <pre>
&lt;body&gt;
	&lt;h1&gt;Example of Select and Option HTML element&lt;/h1&gt;
	&lt;form jwcid="form"&gt;
		Select a colour:
		&lt;input jwcid="<b>selection</b>"&gt;
			&lt;span jwcid="colours"&gt;
				&lt;option jwcid="<b>colour</b>"/&gt;
			&lt;/span&gt;
		&lt;/input&gt;
	&lt;/form&gt;	
&lt;/body&gt;
</pre>
 </td>
</tr>

<tr>
 <td colspan="2">
 	<hr>
	 This example uses a pre-existing collection as the source of the <a href="Option.html">Option</a> list. The
	 <a href="Foreach.html">Foreach</a> is used to iterate through the list, rendering multiple HTML option
	 elements on the way.<p>
	The Page specification is defined as:<p>
	<pre>
&lt;specification class="examples.componentref.Selection" allow-body="yes" allow-informal-parameters="yes" &gt;
    &lt;bean name="validationDelegate" class="net.sf.tapestry.valid.ValidationDelegate" lifecycle="request"/&gt;
    
    &lt;component id="form" type="Form"&gt;
    	&lt;binding name="delegate" property-path="beans.validationDelegate"/&gt;
    	&lt;binding name="listener" property-path="listeners.formSubmit"/&gt;
    &lt;/component&gt;
    
    &lt;component id="colours" type="Foreach"&gt;
    	&lt;binding name="source" property-path="visit.colours"/&gt;
    	&lt;binding name="value" property-path="visit.currentColour"/&gt;
    &lt;/component&gt;

    &lt;component id="<b>selection</b>" type="<b>Select</b>"&gt;
    	&lt;field-binding name="multiple" field-name="Boolean.TRUE"/&gt;
    &lt;/component&gt;
    
    &lt;component id="<b>colour</b>" type="<a href="Option.html">Option</a>"&gt;
    	&lt;binding name="selected" property-path="visit.currentColour.selected"/&gt;
    	&lt;binding name="label" property-path="visit.currentColour.label"/&gt;
    &lt;/component&gt;
&lt;/specification&gt;	
	</pre>
 </td>  
</tr>


<tr>
 <td colspan="2">
 	<hr>
 	When the form is submitted, Tapestry will take care of setting the 
 	<b>selected</b> attribute on any item that has been selected by
 	the user. For this example, that means that a Colour object will
 	have it's selected property set to true (see below)<p>
 	
 	Which produces the following HTML:<p>
	<pre>
&lt;form method="post" name="Form0" action="/componentref"&gt;
&lt;input type="hidden" name="service" value="direct"&gt;
&lt;input type="hidden" name="context" value="Selection/form"&gt;
&lt;input type="hidden" name="sp" value="S0"&gt;
	Select a colour:
&lt;select name="selection" multiple&gt;
&lt;option value="0"&gt;Green
&lt;option value="1"&gt;Blue
&lt;option value="2"&gt;Red
&lt;option value="3"&gt;White
&lt;option value="4"&gt;Purple
&lt;option value="5"&gt;Dark Black
&lt;option value="6"&gt;Fiji Blue
&lt;/select&gt;
&lt;input type="hidden" name="Form0" value="1"&gt;
&lt;/form&gt;
	</pre>
</td>
</tr>

<tr>
 <td colspan="2">
 	<hr>
	In this example, the page object (the .java file) is not important, since it contains nothing. 
	The example has purposely tied both the option list, and the currently selected value (the
	<a href="Foreach.html">Foreach</a> component's <b>value</b> field) to a property of
	the Visit object.<p>
 	The Visit object is defined as follows: 	
 	<pre>
 /**
 * Contains some state shared by the examples.
 * @author neil
 */
public class Visit {
	public Collection getColours() {
		if(colours == null) {
			colours = new ArrayList();
			colours.add(new Colour("Green"));
			colours.add(new Colour("Blue"));
			colours.add(new Colour("Red"));
			colours.add(new Colour("White"));
			colours.add(new Colour("Purple"));
			colours.add(new Colour("Dark Black"));
			colours.add(new Colour("Fiji Blue"));
		}
		return colours;
	}

	/**
	 * Returns the currentColour.
	 * @return Colour
	 */
	public Colour getCurrentColour() {
		return currentColour;
	}

	/**
	 * Sets the currentColour.
	 * @param currentColour The currentColour to set
	 */
	public void setCurrentColour(Colour currentColour) {
		this.currentColour = currentColour;
	}

	private List colours;
	private Colour currentColour;
}

	</pre>
	
	Finally, the Colour object is shown:
	<pre>
/**
 * @author neil
 */
public class Colour {
	public Colour(String label) {
		setLabel(label);
	}
	
	public Colour(String label, boolean selected) {
		setLabel(label);
		setSelected(selected);
	}

	/**
	 * Returns the isSelected.
	 * @return boolean
	 */
	public boolean getSelected() {
		return selected;
	}

	/**
	 * Returns the label.
	 * @return String
	 */
	public String getLabel() {
		return label;
	}

	/**
	 * Sets the isSelected.
	 * @param isSelected The isSelected to set
	 */
	public void setSelected(boolean isSelected) {
		this.selected = isSelected;
	}

	/**
	 * Sets the label.
	 * @param label The label to set
	 */
	public void setLabel(String label) {
		this.label = label;
	}

	private String label;
	private boolean selected;
}
	</pre>
</td>
</tr>

<tr>
 <td colspan="2"><hr></td>  
</tr>
<tr>
 <td colspan="2">
  <table width="100%">
   <tr>
    <td align="left">
     <a href="Script.html"><img src="common-images/prev.png" alt="Previous"/></a>
    </td>  
    <td align="center">
     <a href="index.html"><img src="common-images/home.png" alt="Home"/></a>
    </td>  
    <td align="right">
     <a href="Service.html"><img src="common-images/next.png" alt="Next"/></a>
    </td>  
   <tr>
  </table>
 </td>
</tr>
</table>

</body>
</html>
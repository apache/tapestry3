<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- $Id$ --> 
<html>
<head>
<link rel="stylesheet" type="text/css" href="Tapestry.css" title="style">
</head>

<body>
<table border="0" cellpadding="4" cellspacing="4" width="100%">
<tr>
 <td>
  <table>
	 <tr>
	  <td><font size="+2"><b>Script</b></font></td>
	 </tr>
	 <tr>
	  <td>
		 <a href="../api/net/sf/tapestry/html/Script.html">
		 net.sf.tapestry.html.Script</a>
		</td>
	 </tr>
  </table>
 </td>
 <td>
  <table align="right" valign="middle" bgcolor="#c0c0c0" cellpadding="8">
	 <tr>
	  <td>Non Visual Component</td>
	 </tr>
  </table>
 </td>
</tr>

<tr>
 <td colspan="2"><hr></td>
</tr>

<tr>
 <td colspan="2">
  <b>Description</b>
	<br>
  A component that accesses a script file and adds JavaScript functions and 
  statements to the response page. The specified script file is read and 
  parsed and substitutions are made before the final scripting code is inserted 
  into the page. This allows the JavaScript to be tailored to the ids and names 
  that are generated by Tapestry.   
  <p>
  Note a <a href="Body.html">Body</a> component is required when using the
  Script element. The Body component is used to write out the Javascript before
  the HTML &lt;body&gt; section and attach any initialization code to the 
  body's "onload" attribute.
  <p>
  See the Developers Guide 
  <a href="..\DevelopersGuide\script.html">Tapestry and JavaScript</a> for a 
  complete description of Tapestry's Javascript integration.  
  <p>
  
  <p>
  This component may NOT wrap around other components or static HTML. 
 </td>
</tr>

<tr>
 <td colspan="2">
  <b>See Also</b>
	<br>
	<a href="Body.html">Body</a> 
 </td>
</tr>

<tr>
 <td colspan="2">
  <b>Parameters</b>
	<br>
  <table border="1" cellpadding="4" cellspacing="4" class="parameters">
  <tr> 
    <th>Name</th>
    <th>Type</th>
	  <th>Direction</th>
    <th>Required</th> 
    <th>Default</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>script</td>
    <td>String</td>
    <td>in</td>
   	<td>yes</td>
		<td>&nbsp;</td>
		<td>The path of a resource (on the classpath) containing the script.</td>
	</tr>
  <tr>
    <td>symbols</td>
    <td>
     <a href="http://java.sun.com/products/jdk/1.2/docs/api/java/util/Map.html">
     <tt>Map</tt>
    </td>
    <td>in</td>
   	<td>no</td>
		<td>&nbsp;</td>
		<td>
     The base set of symbols to be provided to the 
     <a href="../api/net/sf/tapestry/IScript.html">IScript</a>. To this is added 
     (in a copy of the Map) any informal parameters. 
    </td>
	</tr>
	</table>
  Informal parameters: allowed<br>
  Reserved parameters: none
 </td>
</tr>

<tr>
 <td colspan="2">
  <b>Examples</b>
	<p>
  See the <a href="PropertySelection.html#Example2">PropertySelection</a> 
  example use of SelectSubmit script to submit a <a href="Form.html">form</a> 
  when a user selects a drop down list item.
	<p>  
  In this example a Script is used set the focus to the first text field of the 
  login form. In the script file <b>&lt;![CDATA[</b> .. <b>]]&gt;</b> tags are 
  used to wrap the Javascript code to prevent '<tt>&lt;</tt>' and 
  '<tt>&amp;&amp;</tt>' character XML parsing errors. 
	<p>
  Note Tapestry will not perform property substitutions in CDATA blocks when 
  using the <tt>&lt;property-path&gt;</tt> style syntax, instead use the 
  <tt>${property-path}</tt> syntax.
	<p>

<table class="examples" cellpadding="4">
<form>
 <tr>
  <td>Username:</td><td><input type="text" size="12"/></td>
 </tr>
 <tr>
  <td>Password:</td><td><input type="password" size="12"/></td>
 </tr>
 <tr align="right">
  <td>&nbsp;</td><td><input type="submit" value="Login"/></td>
 </tr>
</form>
</table>

<pre>
&lt;form jwcid="loginForm"&gt;
 &lt;table cellpadding="4"&gt;
  &lt;tr&gt;
   &lt;td>Username:&lt;/td&gt;&lt;td&gt;&lt;input jwcid="usernameTextField" size="12"/&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td>Password:&lt;/td&gt;&lt;td&gt;&lt;input jwcid="passwordTextField" size="12"/&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr align="right"&gt;
   &lt;td colspan="2"&gt;&lt;input type="submit" value="Login"/&gt;&lt;/td&gt;
  &lt;/tr&gt;
 &lt;/table&gt;
&lt;/form&gt;
&lt;span jwcid="<span class="jwcid">formFocusScript</span>"/&gt; 


&lt;component id="loginForm" type="<a href="Form.html">Form</a>"&gt;
   &lt;binding name="listener" property-path="listeners.formSubmit"/&gt;
&lt;/component&gt;

&lt;component id="usernameTextField" type="<a href="TextField.html">TextField</a>"&gt;
   &lt;binding name="value" property-path="visit.username"/&gt;
&lt;/component&gt;

&lt;component id="passwordTextField" type="<a href="TextField.html">TextField</a>"&gt;
   &lt;binding name="value" property-path="visit.password"/&gt;
   &lt;static-binding name="hidden"&gt;true&lt;/static-binding&gt;
&lt;/component&gt;

&lt;component id="<span class="jwcid">formFocusScript</span>" type="<a href="Script.html">Script</a>"&gt;
    &lt;static-binding name="script"&gt;/com/mycorp/scripts/FormFocus.script&lt;/static-binding&gt;
&lt;/component&gt;


&lt;!-- Sets the focus to the first form element which is not hidden and not disabled. --&gt; 
&lt;!-- /com/mycorp/scripts/FormFocus.script --&gt; 
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE script PUBLIC "-//Howard Ship//Tapestry Script 1.1//EN"
	"http://tapestry.sf.net/dtd/Script_1_1.dtd"&gt;
&lt;script&gt;
  &lt;body&gt;
<b>&lt;![CDATA[</b> 
function setFocus() {
    if (document.forms[0]) {
        for (i = 0; i &lt; document.forms[0].elements.length; i++) {
            if (document.forms[0].elements[i].type != "hidden" &amp;&amp;
                document.forms[0].elements[i].disabled != true) {

                document.forms[0].elements[i].focus();
                return;
            }
        }
    }	
}
<b>]]&gt;</b>
  &lt;/body&gt;
  &lt;initialization&gt;
    setFocus();
  &lt;/initialization&gt;
&lt;/script&gt;
</pre>
 </td>
</tr>

<tr>
 <td colspan="2"><hr></td>  
</tr>
<tr>
 <td colspan="2">
  <table width="100%">
   <tr>
    <td align="left">
     <a href="Rollover.html"><img src="common-images/prev.png" alt="Previous"/></a>
    </td>  
    <td align="center">
     <a href="index.html"><img src="common-images/home.png" alt="Home"/></a>
    </td>  
    <td align="right">
     <a href="Select.html"><img src="common-images/next.png" alt="Next"/></a>
    </td>  
   <tr>
  </table>
 </td>
</tr>
</table>

</body>
</html>